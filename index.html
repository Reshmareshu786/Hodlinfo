<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="Screenshot 2024-07-04 142647.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-b7xvhq4Qo9rCh0kpnkje1mYN+K8x8vpxt52U7v1EPl7XvVcW1qMzQ7M7Nkm4WTiP8C7oiIf6qkkx9Kln20RYUQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://kit.fontawesome.com/7475b99d9b.js" crossorigin="anonymous"></script>
    <title>Hodlinfo</title>
</head>
<body>
    <header>
        <div class='main-container'>
            <h1 class="logo">HODLINFO</h1>
            <div class="controls-container">
                <div class='controls'>
                <select>
                    <option value="INR">INR</option>
                </select>
                </div>
                <div class="controls">
                <select >
                    <option value="BTC">BTC</option>
                    <option value="ETH">ETH</option>
                    <option value="USDT">USDT</option>
                    <option value="XRP">XRP</option>
                    <option value="TRX">TRX</option>
                    <option value="DASH">DASH</option>
                    <option value="ZEC">ZEC</option>
                    <option value="XEM">XEM</option>
                    <option value="IOST">IOST</option>
                    <option value="WIN">WIN</option>
                    <option value="BTT">BTT</option>
                    <option value="WRX">WRX</option>
                </select>
                 </div>
                  <div class="buy-btc">BUY BTC</div>
                  </div>
                  <div class="container-3">
                    <div class="circle">
                        42
                    </div>
                    <button class="telegram-btn">
                       <i class="fa-brands fa-telegram"></i>
                       Connect Telegram</button>
                       <div class='toggle-switch'>
                           <label class="switch"><input type="checkbox">
                           <div></div>
                           </label>
                       </div>
                </div>
                </div>
                
    </header>
    <div class="content-container">
        <h1 class="heading">Best Price To Trade</h1>
    </div>

    <div class="trading-container">
        <div  class="trading">
            <h2>0.68%</h2>
            <h3 class="time">5 Mins</h3>
        </div>
        <div class="trading">
            <h2>1.52%</h2>
            <h3 class="time">1 Hour</h3>
        </div>
        <div class="trading ">
            <h1 class="amount">₹ 51,19,420</h1>
            <h3 class="amount-time">Average BTC/INR net price including commission</h3>
        </div>
        <div class="trading">
            <h2>9.02%</h2>
            <h3 class="time">1 Day</h3>
        </div>
        <div class="trading">
            <h2>14%</h2>
            <h3 class="time">7 Day</h3>
        </div>
    </div>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Platform</th>
                    <th>Last Traded Price</th>
                    <th>Buy / Sell Price</th>
                    <th>Difference</th>
                    <th>Savings</th>
                </tr>
            </thead>
            <tbody class="bg-row">
                <tr>
                    <td>1</td>
                    <td><div class="table-image"><img class="image" src="Screenshot 2024-07-04 130101.png">WazirX</div></td>
                    <td>₹ 53,21,960</td>
                    <td>₹ 53,17,500 / ₹ 53,21,960</td>
                    <td class="positive">2.66 %</td>
                    <td class="positive">₹ 1,37,963</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><div class="table-image"><img class="image" src="Screenshot 2024-07-04 131352.png">Bitbns</div></td>
                    <td>₹ 49,99,995</td>
                    <td>₹ 49,80,410 / ₹ 50,00,000</td>
                    <td class="negative">-3.55 %</td>
                    <td class="negative">₹ 1,84,000</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><div class="table-image"><img class="image" src="Screenshot 2024-07-04 131701.png">Colodax</div></td>
                    <td>₹ 49,28,552</td>
                    <td>₹ 48,79,602 / ₹ 54,21,781</td>
                    <td class="negative">-4.93 %</td>
                    <td class="negative">₹ 2,55,443</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><div class="table-image"><img class="image" src="Screenshot 2024-07-04 132608.png">Zebpay</div></td>
                    <td>₹ 52,99,999</td>
                    <td>₹ 53,00,000 / ₹ 52,99,999</td>
                    <td class="positive">2.24 %</td>
                    <td class="positive">₹ 1,16,003</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td><div class="table-image"><img class="image" src="Screenshot 2024-07-04 132839.png">CoinDCX</div></td>
                    <td>₹ 53,69,476</td>
                    <td>₹ 53,50,000 / ₹ 53,71,595</td>
                    <td class="positive">3.58 %</td>
                    <td class="positive">₹ 1,85,480</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        try {
            const response = await fetch('/tickers');
            const tickers = await response.json();
            console.log('Fetched tickers:', tickers); // Log the tickers data
            const tbody = document.querySelector('tbody.bg-row');
            tbody.innerHTML = "";

            tickers.forEach((ticker, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        <div class="table-image">
                            ${ticker.name}
                        </div>
                    </td>
                    <td>₹ ${ticker.last.toFixed(2)}</td>
                    <td>₹ ${ticker.buy.toFixed(2)} / ₹ ${ticker.sell.toFixed(2)}</td>
                    <td class="${ticker.last > ticker.buy ? 'positive' : 'negative'}">
                        ${((ticker.last - ticker.buy) / ticker.buy * 100).toFixed(2)} %
                    </td>
                    <td class="${ticker.last > ticker.buy ? 'positive' : 'negative'}">
                        ₹ ${(ticker.last - ticker.buy).toFixed(2)}
                    </td>`;
                tbody.appendChild(row);
            });
        } catch (e) {
            console.error("Error Fetching the API", e);
        }
    });
</script>


</body>
</html>
